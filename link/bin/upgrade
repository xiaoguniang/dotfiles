#!/bin/sh
#
# Description: upgrade packages
# Author: Hongbo Liu
# Email: hbliu@freewheel.com
# CreatTime: 2016-04-19 19:27:44 CST

upgradeNeovim() {
	brew reinstall neovim --HEAD
	pip2 install --upgrade neovim
	pip3 install --upgrade neovim
	sudo gem install neovim
}

usage() {
cat << EOF
Usage: $(basename "$0") neovim|ctags
EOF
exit 0
}

install_tap() {
	brew tap universal-ctags/universal-ctags
	brew tap neovim/neovim
}

upgrade_list() {
	echo "neovim nvim ctags tmux zgen gocode wechat"
}

main() {
	case $1 in
		neovim|nvim ) upgradeNeovim ;;
		ctags ) brew reinstall --HEAD universal-ctags ;;
		tmux ) brew reinstall --HEAD tmux ;;
		gocode ) go get -u github.com/nsf/gocode ;;
		wechat ) $HOME/github/WeChatPlugin-MacOS/Other/Install.sh ;;
		i|-i|install ) install_tap ;;
		-l) upgrade_list ;;
		* ) usage ;;
	esac
}

main $*
