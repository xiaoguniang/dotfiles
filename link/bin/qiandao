#!/bin/bash
# Author            : Hongbo Liu <hbliu@freewheel.tv>
# Date              : 2018-03-14
# Last Modified Date: 2018-03-14
# Last Modified By  : Hongbo Liu <hbliu@freewheel.tv>

curl 'http://readfree.me/accounts/profile/hbliu/checkin/' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36' -H 'Cookie: _ga=GA1.2.403101546.1515861961; csrftoken=VYImxhvFlw2oYlz2kMaWPrW543lxEKJZs7078kph8hVssRy2T5uz4jBHIskkC6SE; sessionid=q5n7zcs10rdhppzy9jmffomtalrcyehq' --compressed &> /dev/zero

curl 'https://vip.itouzi.com/member/ajax/doSign' -H 'Cookie: union=market_channel_trace_956DA1E7-EC4D-FFC2-8677-AE914D75EB48; _ga=GA1.2.1683270171.1519920405; gr_user_id=f73f04a1-0f9f-48d9-b59f-6408dc36652d; _gid=GA1.2.854257069.1521466650; broswer_guide=1; aliyungf_tc=AQAAALDrvl0weAIAJPvwcmtuViuirsr5; acw_tc=AQAAALDuDGQ5MAQAJPvwchsYrRkoQjLh; ITOUZISESSID=333126a167d516feadefce2ade61db2c; TY_SESSION_ID=2a462c03-18da-4908-8ac5-8f09471f524a; ITOUZISESSID=54ff7b01303878c0556283951f0c8026; gr_session_id_88fa8d8d5e33b245=3854231c-bc71-4130-b144-179f1987f5d3; Hm_lvt_c82430d7a2476c7972db1f90e6690848=1519920405,1521466650,1521511065; Hm_lpvt_c82430d7a2476c7972db1f90e6690848=1521511065; uv_limit21=1521475200; login_remember_name=15652918242; gr_cs1_3854231c-bc71-4130-b144-179f1987f5d3=hashId%3A62cd3a0c9163919e2ec0a2df178fe995; _gat=1; Hm_lvt_efede6487e1e3060b0c6ff1969b1a7d2=1521466731,1521511076,1521511091,1521511250; Hm_lpvt_efede6487e1e3060b0c6ff1969b1a7d2=1521511250; Wk1YT0hQTE9XUVNEQkd1c2VyX2lkX2h0dHBz=0346jaROda5g578zsqR6RHgMfUiMNirkcwXE66jDkAqLNXRFc5XFiASF5MewcJd0%2FzM78CHVl4c' -H 'Origin: https://vip.itouzi.com' -H 'Accept-Encoding: gzip, deflate, br' -H 'itz-csrftoken: 1521511248&c8a514b4a83840734302f5e7f2069495f0601052' -H 'Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36' -H 'X-Tingyun-Id: TTAtUM4I1us;r=511255265' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Referer: https://vip.itouzi.com/' -H 'X-Requested-With: XMLHttpRequest' -H 'Connection: keep-alive' --data 'user_id=1001455' --compressed

v2ex_url=$(curl 'https://www.v2ex.com/mission/daily' -H 'if-none-match: W/"fcd2aaae787a3a19ed657db1321723c09f34b80a"' -H 'accept-encoding: gzip, deflate, br' -H 'accept-language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7' -H 'upgrade-insecure-requests: 1' -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36' -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' -H 'referer: https://www.v2ex.com/' -H 'authority: www.v2ex.com' -H 'cookie: _ga=GA1.2.1493937666.1510713008; A2="2|1:0|10:1520350945|2:A2|56:NTkzNTljYmRhZGI4OGVmOTU2ZGU1ODNhZGE4NDMyYjkzODJlMmVjZg==|bb9b91294c6594ee7a09e699a05f9461e17dff7566a957c9aa8df546cf473006"; PB3_SESSION="2|1:0|10:1520823553|11:PB3_SESSION|40:djJleDoyMDguMzYuMTMzLjIyMTozMjYxMjQ1Ng==|ea71d8640dd09a88d6564f1a51dd177c32fd53ad46f501fd578545b41b450a3e"; _gid=GA1.2.535110247.1520823556; V2EX_TAB="2|1:0|10:1520998014|8:V2EX_TAB|8:bm9kZXM=|be12b07896e569730c11f7f09e57ca763cb985619a37d9eb6e145084c49cf8b8"; V2EX_LANG=zhcn' --compressed | grep  -o '/mission/daily/redeem?once=[0-9]\+')

curl "https://www.v2ex.com${v2ex_url}" -H 'if-none-match: W/"fcd2aaae787a3a19ed657db1321723c09f34b80a"' -H 'accept-encoding: gzip, deflate, br' -H 'accept-language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7' -H 'upgrade-insecure-requests: 1' -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36' -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' -H 'referer: https://www.v2ex.com/' -H 'authority: www.v2ex.com' -H 'cookie: _ga=GA1.2.1493937666.1510713008; A2="2|1:0|10:1520350945|2:A2|56:NTkzNTljYmRhZGI4OGVmOTU2ZGU1ODNhZGE4NDMyYjkzODJlMmVjZg==|bb9b91294c6594ee7a09e699a05f9461e17dff7566a957c9aa8df546cf473006"; PB3_SESSION="2|1:0|10:1520823553|11:PB3_SESSION|40:djJleDoyMDguMzYuMTMzLjIyMTozMjYxMjQ1Ng==|ea71d8640dd09a88d6564f1a51dd177c32fd53ad46f501fd578545b41b450a3e"; _gid=GA1.2.535110247.1520823556; V2EX_TAB="2|1:0|10:1520998014|8:V2EX_TAB|8:bm9kZXM=|be12b07896e569730c11f7f09e57ca763cb985619a37d9eb6e145084c49cf8b8"; V2EX_LANG=zhcn' --compressed
